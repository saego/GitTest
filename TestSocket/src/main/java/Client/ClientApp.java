package Client;

import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.InetAddress;
import java.net.Socket;

/**
 Created by ${Ruslan} on 01.02.17.
 */
public class ClientApp {
    public static void main(String []args){
            int port = 1300;
            String internetAddress = "127.0.0.1";
        try {
//connection
            InetAddress inetAddress = InetAddress.getByName(internetAddress);
            Socket socket = new Socket(inetAddress, port);
//streams
            InputStream inputStream = socket.getInputStream();
            OutputStream outputStream = socket.getOutputStream();
            DataInputStream in = new DataInputStream(inputStream);
            DataOutputStream out = new DataOutputStream(outputStream);

            String folderName = "Dir";
            out.writeUTF(folderName);
            out.flush();

            int numbersFile = in.readInt();
            String[] filesServer = new String[numbersFile];
            for (String fileServer:
                 filesServer) {
                fileServer = in.readUTF();
                System.out.println(fileServer);
            }

        }
        catch (Exception e){
            e.printStackTrace();
        }
    }
}
